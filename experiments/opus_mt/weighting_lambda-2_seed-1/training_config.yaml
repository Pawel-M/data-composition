results_dir: .
results_suffix: null
tokenizer_name: 'opus-mt-ende-ctx'
model_path: "Helsinki-NLP/opus-mt-en-de"
tokenizer_path: "Helsinki-NLP/opus-mt-en-de"
max_length: 512
lang_pairs:
  - "en-de"
src_ctx_size: 3
tgt_ctx_size: 3
seed: 1
datasets:
  -
    dataset_name: iwslt2017
    dataset_splits: [train]
    dataset_path: path/to/repo/data/hf_iwslt17
    dataset_annotation_path: path/to/repo/data/iwslt2017_ctxpro
    sample_ctx_size: true
    lang_pairs:
      - "en-de"

model_config_arguments:
  weighting_amount: 2.0
  weighting_token_level: true

training_arguments:
  optim: adafactor
  learning_rate: 0.00001
  lr_scheduler_type: inverse_sqrt
  warmup_ratio: 0.1
  per_device_train_batch_size: 16
  per_device_eval_batch_size: 16
  gradient_accumulation_steps: 32
  weight_decay: 0.01
  save_total_limit: 1
  num_train_epochs: 10
  fp16: true